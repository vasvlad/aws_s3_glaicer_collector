<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>

<link rel="stylesheet" type="text/css" media="screen" href="./css/flick/jquery-ui-1.7.2.custom.css" />
<link rel="stylesheet" type="text/css" media="screen" href="./css/ui.jqgrid.css" />

<style>
html, body {
margin: 0;
padding: 0;
font-size: 80%;
}
</style>
<script type="text/javascript" src="./js/jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="./js/i18n/grid.locale-en.js"></script>
<script type="text/javascript" src="./js/jquery.jqGrid.min.js"></script>
<script type="text/javascript">
id_node=0;
level=0;
jQuery().ready(function() {
	jQuery('#table_adjacency').jqGrid({
		url: 'bs3.php?f=1',
		datatype: "json",
		multiselect: false,
		rowNum:5,
		rowList:[5,10,15,20,25,30],
		colNames:["id","Name","Size","",""],
		colModel:[
			{name:'id',index:'id', width:1, hidden:true, key:true},
			{name:'title',index:'title', width:400},
			{name:'size',index:'size', width:100,align:"right"},
			{name:'level',index:'level', width:-1,hidden:true},
			{name:'folder',index:'folder', width:-1,hidden:true}
		],
		afterInsertRow: function(rowid, aData) {
		    level=aData.level;
		    indent='';
		    for (j=0;j<level;j++) {
		        indent+='&nbsp;';
		    }
		    level1=level*10;
		    level=level*18;
		    level1=level-18;
		    class_icon='';
		    folder=aData.folder;
		    if (folder==1){
			class_icon='ui-icon treeclick ui-icon-triangle-1-s tree-minus';
		    }else{
			class_icon='ui-icon ui-icon-document-b tree-leaf treeclick';
		    }
		    vaa='';
		    vaa+='<div class="tree-wrap tree-wrap-ltr" style="width:'+level+'px;">';
		    vaa+='<div class="'+class_icon+'" style="left:'+level1+'px;"></div>';
		    vaa+='</div>';
		    vaa+=aData.title;
		    jQuery('#table_adjacency').setCell(rowid, 'title', vaa);
		},
//		treeIcons: {plus:'ui-icon-folder-collapsed',minus:'ui-icon-folder-open',leaf:'ui-icon-document'},
		height:'auto',
		caption:'Folders',
		pager : "#ptreegrid",
		hidegrid: false
	});
	jQuery("#table_adjacency").jqGrid('navGrid','#ptreegrid',{edit:false, add:false, del:false,view:true, search: false},//options
	{},
	{}, // add options
	{}, // del options
	{} // search options
	);
	jQuery("#table_adjacency").jqGrid('navGrid','#ptreegrid').navButtonAdd('#ptreegrid',{caption: "Search",caption :"",title : "Search folder",buttonicon: "ui-icon-search", 
		onClickButton: function() {
			jQuery("#table_adjacency").jqGrid('searchGrid', {closeOnEscape: true, multipleSearch: true, closeAfterSearch: true,sopt: ['cn','bw','ew','eq','ne','lt','le','gt','ge']} ); 
		}, 
		position: "last"
	} );
                 
});
</script>

</head>
<body>
    <table border='0'>
        <tr>
            <td valign="top">
            <table id="table_adjacency"></table>
            <div id="ptreegrid"></div>
            </td>
        </tr>
    </table>
</body>

</html>